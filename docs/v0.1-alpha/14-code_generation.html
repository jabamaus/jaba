<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
  <head>
    <title>14-code_generation</title>
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Code&display=swap">
    <link rel="stylesheet" href="../mamd.css">
  </head>
<body>
<h2>14-code_generation</h2>

<p><sub><sup>This page applies to v0.1-alpha<br></sup></sub>
<a href="../index.html">home</a> &gt; <a href="index.html">0.1-alpha home</a></p>

<div class="CodeRay">
  <div class="code"><pre>target <span style="color:#A60">:CodegenExample</span> <span style="color:#080;font-weight:bold">do</span>
  type <span style="color:#A60">:console</span>
  src [<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">main.cpp</span><span style="color:#710">'</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">generator.rb</span><span style="color:#710">'</span></span>]
  src <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">%w(</span><span style="color:#D20">src1.h src2.h</span><span style="color:#710">)</span></span>, <span style="color:#A60">:force</span>, <span style="color:#606">prefix</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">generated/</span><span style="color:#710">'</span></span>
  rule <span style="color:#080;font-weight:bold">do</span>
    input <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">*.xyz</span><span style="color:#710">'</span></span>
    output <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">generated/$(input.basename_no_ext).cpp</span><span style="color:#710">'</span></span>
    implicit_input <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">generator.rb</span><span style="color:#710">'</span></span>
    cmd <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">ruby $(implicit_input) $(input) $(output)</span><span style="color:#710">'</span></span>
    msg <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">$(input.basename) -&gt; $(output.basename)</span><span style="color:#710">'</span></span>
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>

<p><sub><sup>Generated on 22-Oct-24 using <a href="https://github.com/vmg/redcarpet">Redcarpet</a>, <a href="https://github.com/rubychan/coderay">CodeRay</a>, <a href="https://rsms.me/inter">Inter</a> and <a href="https://github.com/tonsky/FiraCode">FiraCode</a>. css by Harry Denholm.</sup></sub></p>
</body>
</html>
